# ‚öôÔ∏è UltraZed-EG Board Setup Notes

This document centralizes all hardware-related configuration information for the **Gesture Recognition FPGA Project**.
It serves as a reference for future debugging, replication, or benchmarking.

---

## üß∞ 1. Hardware Inventory

| Component             | Reference / Model                 | Notes                           |
| --------------------- | --------------------------------- | ------------------------------- |
| **SOM**               | UltraZed-EG SOM (XCZU7EV)         | Zynq UltraScale+                |
| **Carrier Board**     | UltraZed I/O Carrier Card         | Includes HDMI, USB, SD, JTAG    |
| **Power Supply**      | 12 V / 4 A                        | Barrel jack input               |
| **SD Card**           | ‚â•16 GB, Class 10                  | For PetaLinux or prebuilt image |
| **Camera**            | [Model]                           | USB / MIPI (specify)            |
| **Display / Monitor** | [Model]                           | HDMI or serial output           |
| **JTAG Cable**        | Digilent HS3 / Platform Cable USB | For FPGA programming            |

---

## üîå 2. Physical Setup and Connections

1. **Power:**

   * Connect 12 V DC adapter to the carrier card power jack.
   * Ensure the power switch is set to *ON*.

2. **Boot Mode:**

   * Default DIP switch configuration for SD boot:

     ```
     SW6[1:4] = 0-1-0-0  (example)
     ```
   * Check the carrier board manual for confirmation.

3. **USB / UART:**

   * Connect USB-UART port (J10) to the host PC.
   * Expected device: `/dev/ttyUSB0`.

4. **JTAG:**

   * Optional: Connect via JTAG for bitstream flashing or debugging.

5. **Camera:**

   * Connect USB or MIPI camera to designated connector.
   * Test accessibility on host or board (see `cam_test.py`).

---

## üíΩ 3. Software Image and Boot Files

| File            | Description                                      | Location                     |
| --------------- | ------------------------------------------------ | ---------------------------- |
| `BOOT.BIN`      | Bootloader (FSBL + bitstream + U-Boot)           | `/boot/` on SD               |
| `image.ub`      | Linux kernel + device tree                       | `/boot/`                     |
| `rootfs.ext4`   | Root filesystem                                  | `/`                          |
| `uEnv.txt`      | Boot arguments (optional)                        | `/boot/`                     |
| `bitstream.bit` | Custom FPGA bitstream (generated by Vivado/FINN) | `/boot/` or `/lib/firmware/` |

**Checklist before booting:**

* [ ] SD card formatted as FAT32 + ext4 (dual partitions)
* [ ] Boot files copied and verified
* [ ] Correct jumpers for SD boot
* [ ] Serial console connected
* [ ] Board powered on

---

## üßæ 4. Board Information and Versions

| Parameter               | Value / Notes          |
| ----------------------- | ---------------------- |
| **BSP Version**         | [To fill: e.g. 2023.2] |
| **PetaLinux Version**   | [To fill]              |
| **Vivado Version**      | 2023.2                 |
| **Device Tree**         | [Path or filename]     |
| **Kernel Version**      | [Output of `uname -a`] |
| **Board Serial Number** | [Optional]             |

Record this information after first boot:

```bash
uname -a
cat /proc/device-tree/model
df -h
```

Save the outputs in:

```
doc/setup_logs/board_info.txt
```

---

## üîç 5. Console Boot Log

Copy the first successful boot log into:

```
doc/setup_logs/console_boot_log.txt
```

Expected lines to verify:

* FSBL successfully loaded
* U-Boot prompt visible
* Linux kernel boot messages
* Login shell available

---

## üì∏ 6. Camera Test on Board (Optional)

If camera support is enabled in the Linux image:

```bash
v4l2-ctl --list-devices
```

Expected output (example):

```
USB2.0 HD UVC WebCam: USB2.0 HD (usb-xhci-hcd.0.auto-1.1):
    /dev/video0
```

Then run:

```bash
python3 /home/root/cam_test.py
```

---

## üîß 7. Maintenance Commands

**Check hardware version:**

```bash
cat /sys/class/fpga_manager/fpga0/name
```

**Reprogram FPGA manually:**

```bash
cat /lib/firmware/my_bitstream.bit > /dev/xdevcfg
```

**Shutdown safely:**

```bash
poweroff
```

---

## üóÇÔ∏è 8. Troubleshooting Notes

| Issue                       | Possible Cause               | Suggested Action                   |
| --------------------------- | ---------------------------- | ---------------------------------- |
| No serial output            | Wrong UART port or baud rate | Check `/dev/ttyUSB*` and retry     |
| Board doesn‚Äôt boot          | Wrong SD image or boot mode  | Verify DIP switches                |
| Camera not found            | Driver missing / not enabled | Check `/dev/video*` presence       |
| Vivado doesn‚Äôt detect board | JTAG or cable issue          | Reconnect and relaunch `hw_server` |
| High temperature            | Insufficient cooling         | Add small fan or heatsink          |

---

## ‚úçÔ∏è 9. Author Notes

* Keep this document updated after **each hardware change**.
* Include photo references if useful (connector layout, jumpers).
* Always save the latest working SD image as a backup.

---

**Author:** Etienne Bertin
**Board:** UltraZed-EG SOM + I/O Carrier
**Date:** October 2025
**Project:** FPGA Hardware Accelerator for Gesture Recognition

---
